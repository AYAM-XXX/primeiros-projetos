<!DOCTYPE html>
<html>
<head>
    <title>mov 2</title>
</head>
<style>
 #dv1{
    width:100px;
 height:100px;
 border:1px solid #000;
 background:#f00;
 position:absolute;
 left:0px;
 top:0px;
 }
</style>

<body>
    <div id="dv1"></div>
    <script>
 var dx;
 var dy;
 var px;
 var py;
 var vel;
 var tmp;
 var obj;
    
function iniciar () {

    dx=0;
    dy=0;
    px=0;
    py=0;
    vel=10;
    tmp= setInterval(enterframe,20)
    document.addEventListener("keydown",movDw)
    document.addEventListener("keyup",movUp)
    obj=document.getElementById("dv1")

    
}

/*function movDw() {

    var tecla=event.keyCode;
if(tecla==37){
dx=-1;

}else if(tecla==38){
dy=-1;
}else if(tecla==39){
dx=1;

}else if(tecla==40){
dy=1;
}
}
    
function movUp() {
    

    var tecla=event.keyCode;
if(tecla==37){
dx=0;
}else if(tecla==38){
dy=0;
}else if(tecla==39){
dx=0;

}else if(tecla==40){
dy=0;
}
}
 
function enterframe() {
    px+=dx*vel;
py+=dy*vel;
obj.style.left=px+"px";
obj.style.top=py+"px";
    
}

window.addEventListener("load",iniciar)*/

var dx,dy,px,py,vel,obj,tmp;

function inicia(){

dx =0;
dy =0;
px =0;
py =0;
vel=10;
obj = document.getElementById("dv1");
document.addEventListener("keydown",teclaDw);
document.addEventListener("keyup",teclaUp);
tmp= setInterval(enterFrame,20);

}
function teclaDw(){
var tecla=event.keyCode;
if(tecla==37){
dx=-1;

}else if(tecla==38){
dy=-1;
}else if(tecla==39){
dx=1;

}else if(tecla==40){
dy=1;
}
}
function teclaUp(){
var tecla=event.keyCode;
if(tecla==37){
dx=0;
}else if(tecla==38){
dy=0;
}else if(tecla==39){
dx=0;

}else if(tecla==40){
dy=0;
}
}
function enterFrame(){
px+=dx*vel;
py+=dy*vel;
obj.style.left=px+"px";
obj.style.top=py+"px";
}
window.addEventListener("load",inicia);


    </script>
    
</body>
</html>